!function(a){a.expander={version:"1.4.11",defaults:{slicePoint:100,sliceOn:null,preserveWords:!0,showWordCount:!1,wordCountText:" ({{count}} words)",widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",moreLinkClass:"more-link",lessLinkClass:"less-link",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},a.fn.expander=function(b){function c(a,b){var c="span",d=a.summary,e=p.exec(d),f=e?e[2].toLowerCase():"";return b?(c="div",e&&"a"!==f&&!a.expandAfterSummary?d=d.replace(p,a.moreLabel+"$1"):d+=a.moreLabel,d='<div class="'+a.summaryClass+'">'+d+"</div>"):d+=a.moreLabel,[d," <",c+' class="'+a.detailClass+'"',">",a.details,"</"+c+">"].join("")}function d(a,b){var c='<span class="'+a.moreClass+'">'+a.expandPrefix;return a.wordCountText=a.showWordCount?a.wordCountText.replace(/\{\{count\}\}/,b.replace(m,"").replace(/\&(?:amp|nbsp);/g,"").replace(/(?:^\s+|\s+$)/,"").match(/\w+/g).length):"",c+='<a href="#" class="'+a.moreLinkClass+'">'+a.expandText+a.wordCountText+"</a></span>"}function e(b,c){return b.lastIndexOf("<")>b.lastIndexOf(">")&&(b=b.slice(0,b.lastIndexOf("<"))),c&&(b=b.replace(l,"")),a.trim(b)}function f(a,b){b.stop(!0,!0)[a.collapseEffect](a.collapseSpeed,function(){var c=b.prev("span."+a.moreClass).show();c.length||b.parent().children("div."+a.summaryClass).show().find("span."+a.moreClass).show(),a.afterCollapse&&a.afterCollapse.call(b)})}function g(b,c,d){b.collapseTimer&&(i=setTimeout(function(){f(b,c),a.isFunction(b.onCollapse)&&b.onCollapse.call(d,!1)},b.collapseTimer))}var h="init";"string"==typeof b&&(h=b,b={});var i,j=a.extend({},a.expander.defaults,b),k=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,l=j.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,m=/<\/?(\w+)[^>]*>/g,n=/<(\w+)[^>]*>/g,o=/<\/(\w+)>/g,p=/(<\/([^>]+)>)\s*$/,q=/^(<[^>]+>)+.?/,r=/\s\s+/g,s=function(b){return a.trim(b||"").replace(r," ")},t={init:function(){this.each(function(){var b,h,l,p,r,t,u,v,w,x,y,z,A,B,C=[],D=[],E="",F={},G=this,H=a(this),I=a([]),J=a.extend({},j,H.data("expander")||a.meta&&H.data()||{}),K=!!H.find("."+J.detailClass).length,L=!!H.find("*").filter(function(){var b=a(this).css("display");return/^block|table|list/.test(b)}).length,M=L?"div":"span",N=M+"."+J.detailClass,O=J.moreClass+"",P=J.lessClass+"",Q=J.expandSpeed||0,R=s(H.html()),S=R.slice(0,J.slicePoint);if(J.moreSelector="span."+O.split(" ").join("."),J.lessSelector="span."+P.split(" ").join("."),!a.data(this,"expanderInit")){for(a.data(this,"expanderInit",!0),a.data(this,"expander",J),a.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(b,c){F[c]=a.isFunction(J[c])}),S=e(S),r=S.replace(m,"").length;J.slicePoint>r;)p=R.charAt(S.length),"<"===p&&(p=R.slice(S.length).match(q)[0]),S+=p,r++;if(J.sliceOn){var T=S.indexOf(J.sliceOn);-1!==T&&J.slicePoint>T&&(J.slicePoint=T,S=R.slice(0,J.slicePoint))}for(S=e(S,J.preserveWords),t=S.match(n)||[],u=S.match(o)||[],l=[],a.each(t,function(a,b){k.test(b)||l.push(b)}),t=l,h=u.length,b=0;h>b;b++)u[b]=u[b].replace(o,"$1");if(a.each(t,function(b,c){var d=c.replace(n,"$1"),e=a.inArray(d,u);-1===e?(C.push(c),D.push("</"+d+">")):u.splice(e,1)}),D.reverse(),K)w=H.find(N).remove().html(),S=H.html(),R=S+w,v="";else{if(w=R.slice(S.length),x=a.trim(w.replace(m,"")),""===x||x.split(/\s+/).length<J.widow)return;v=D.pop()||"",S+=D.join(""),w=C.join("")+w}J.moreLabel=H.find(J.moreSelector).length?"":d(J,w),L?w=R:"&"===S.charAt(S.length-1)&&(E=/^[#\w\d\\]+;/.exec(w),E&&(w=w.slice(E[0].length),S+=E[0])),S+=v,J.summary=S,J.details=w,J.lastCloseTag=v,F.onSlice&&(l=J.onSlice.call(G,J),J=l&&l.details?l:J),y=c(J,L),H.html(y),A=H.find(N),B=H.find(J.moreSelector),"slideUp"===J.collapseEffect&&"slideDown"!==J.expandEffect||H.is(":hidden")?A.css({display:"none"}):A[J.collapseEffect](0),I=H.find("div."+J.summaryClass),z=function(a){a.preventDefault(),B.hide(),I.hide(),F.beforeExpand&&J.beforeExpand.call(G),A.stop(!1,!0)[J.expandEffect](Q,function(){A.css({zoom:""}),F.afterExpand&&J.afterExpand.call(G),g(J,A,G)})},B.find("a").unbind("click.expander").bind("click.expander",z),J.userCollapse&&!H.find(J.lessSelector).length&&H.find(N).append('<span class="'+J.lessClass+'">'+J.userCollapsePrefix+'<a href="#" class="'+J.lessLinkClass+'">'+J.userCollapseText+"</a></span>"),H.find(J.lessSelector+" a").unbind("click.expander").bind("click.expander",function(b){b.preventDefault(),clearTimeout(i);var c=a(this).closest(N);f(J,c),F.onCollapse&&J.onCollapse.call(G,!0)})}})},destroy:function(){this.each(function(){var b,c,d=a(this);d.data("expanderInit")&&(b=a.extend({},d.data("expander")||{},j),c=d.find("."+b.detailClass).contents(),d.removeData("expanderInit"),d.removeData("expander"),d.find(b.moreSelector).remove(),d.find("."+b.summaryClass).remove(),d.find("."+b.detailClass).after(c).remove(),d.find(b.lessSelector).remove())})}};return t[h]&&t[h].call(this),this},a.fn.expander.defaults=a.expander.defaults}(jQuery);